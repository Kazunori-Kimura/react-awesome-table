(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1081:function(module,exports,__webpack_require__){"use strict";__webpack_require__(4),__webpack_require__(47),__webpack_require__(37),__webpack_require__(33),__webpack_require__(39),__webpack_require__(1082),__webpack_require__(1083),__webpack_require__(9),__webpack_require__(38);var _clientApi=__webpack_require__(55),_clientLogger=__webpack_require__(36),_configFilename=__webpack_require__(1084);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1084:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var parameters={actions:{argTypesRegex:"^on[A-Z].*"}}},1085:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(361).configure)([__webpack_require__(1086),__webpack_require__(1087)],module,!1)}).call(this,__webpack_require__(105)(module))},1086:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1086},1087:function(module,exports,__webpack_require__){var map={"./components/Table.stories.tsx":1093,"./components/Text.stories.tsx":1095};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1087},1093:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Sample",(function(){return Sample}));__webpack_require__(18),__webpack_require__(23),__webpack_require__(175),__webpack_require__(5),__webpack_require__(3),__webpack_require__(11),__webpack_require__(447),__webpack_require__(21);var MouseButton,react=__webpack_require__(0),makeStyles=(__webpack_require__(19),__webpack_require__(39),__webpack_require__(1108)),classnames=__webpack_require__(127),classnames_default=__webpack_require__.n(classnames),hotkeys_esm=(__webpack_require__(122),__webpack_require__(47),__webpack_require__(88),__webpack_require__(1088),__webpack_require__(37),__webpack_require__(67),__webpack_require__(20),__webpack_require__(15),__webpack_require__(14),__webpack_require__(48),__webpack_require__(12),__webpack_require__(263),__webpack_require__(448),__webpack_require__(187),__webpack_require__(446),__webpack_require__(444),__webpack_require__(25),__webpack_require__(61),__webpack_require__(38),__webpack_require__(17),__webpack_require__(318));!function(MouseButton){MouseButton[MouseButton.Primary=0]="Primary",MouseButton[MouseButton.Center=1]="Center",MouseButton[MouseButton.Second=2]="Second"}(MouseButton||(MouseButton={}));function clone(org){return JSON.parse(JSON.stringify(org))}function compareLocation(a,b){return a.row<b.row?-1:a.row>b.row?1:a.column<b.column?-1:a.column>b.column?1:0}var clearSelection=function clearSelection(cells,selectedCells){return selectedCells.forEach((function(_ref){var row=_ref.row,column=_ref.column;cells[row][column].selected=!1})),cells},selectRange=function selectRange(cells,cell1,cell2){for(var newSelection=[],rowRange=[cell1.row,cell2.row].sort(),colRange=[cell1.column,cell2.column].sort(),r=rowRange[0];r<=rowRange[1];r++)for(var c=colRange[0];c<=colRange[1];c++){var select={row:r,column:c};newSelection.push(select),cells[r][c].selected=!0}return newSelection};function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var defaultRowsPerPageOptions=[5,10,30],pagination_usePagination=function usePagination(_ref){var items=_ref.items,columns=_ref.columns,getRowKey=_ref.getRowKey,_ref$page=_ref.page,page=void 0===_ref$page?0:_ref$page,_ref$rowsPerPage=_ref.rowsPerPage,rowsPerPage=void 0===_ref$rowsPerPage?defaultRowsPerPageOptions[0]:_ref$rowsPerPage,_ref$rowsPerPageOptio=_ref.rowsPerPageOptions,rowsPerPageOptions=void 0===_ref$rowsPerPageOptio?defaultRowsPerPageOptions:_ref$rowsPerPageOptio,_useState2=_slicedToArray(Object(react.useState)([]),2),data=_useState2[0],setData=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(page),2),currentPage=_useState4[0],setPage=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(rowsPerPage),2),perPage=_useState6[0],setRowsPerPage=_useState6[1],_useState8=_slicedToArray(Object(react.useState)(),2),filter=_useState8[0],setFilter=_useState8[1],_useState10=_slicedToArray(Object(react.useState)([]),2),sort=_useState10[0],setSort=_useState10[1],_useState12=_slicedToArray(Object(react.useState)(),2),currentCell=_useState12[0],setCurrentCell=_useState12[1],_useState14=_slicedToArray(Object(react.useState)(),2),editCell=_useState14[0],setEditCell=_useState14[1],_useState16=_slicedToArray(Object(react.useState)([]),2),selection=_useState16[0],setSelection=_useState16[1],_useState18=_slicedToArray(Object(react.useState)(!1),2),focus=_useState18[0],setFocus=_useState18[1],_useState20=_slicedToArray(Object(react.useState)(!1),2),dragging=_useState20[0],setDragging=_useState20[1],_useState22=_slicedToArray(Object(react.useState)(!1),2),draggingRow=_useState22[0],setDraggingRow=_useState22[1],tbodyRef=Object(react.useRef)();Object(react.useEffect)((function(){var newData=items.map((function(item,index){return columns.map((function(column){return{entityName:column.name,rowKey:getRowKey(item,index),value:column.getValue(item)}}))}));setData(newData)}),[columns,getRowKey,items]);var withinTbody=Object(react.useCallback)((function(event){if(tbodyRef.current){var _tbodyRef$current$get=tbodyRef.current.getBoundingClientRect(),x=_tbodyRef$current$get.left,y=_tbodyRef$current$get.top,width=_tbodyRef$current$get.width,height=_tbodyRef$current$get.height,pageX=event.pageX,pageY=event.pageY;return y<=pageY&&y+height>=pageY&&x<=pageX&&x+width>=pageX}return!1}),[]),handleMouseDownDocument=Object(react.useCallback)((function(event){var within=withinTbody(event);setFocus(within)}),[withinTbody]),handleMouseUpDocument=Object(react.useCallback)((function(event){tbodyRef.current&&(withinTbody(event)||(setDragging(!1),setDraggingRow(!1)))}),[withinTbody]),createCopyData=Object(react.useCallback)((function(){if(selection){for(var range=selection.sort(compareLocation),rowRange=[range[0].row,range[range.length-1].row].sort(),colRange=[range[0].column,range[range.length-1].column].sort(),copiedData=[],r=rowRange[0];r<=rowRange[1];r++){for(var row=[],c=colRange[0];c<=colRange[1];c++)row.push(data[r][c].value);copiedData.push(row)}return copiedData.map((function(row){return row.join("\t")})).join("\n")}return""}),[data,selection]),handleCopy=Object(react.useCallback)((function(event){if(focus&&!Boolean(editCell)){var copyData=createCopyData();event.clipboardData.setData("text/plain",copyData),event.preventDefault()}}),[createCopyData,editCell,focus]),setCellValue=Object(react.useCallback)((function(value,location,cells){var changed=!1,validator=columns[location.column].validator,cell=cells[location.row][location.column];if(cell.value!==value&&(cell.value=value,changed=!0),validator){var _validator2=_slicedToArray(validator(value,location,cells),2),valid=_validator2[0],message=_validator2[1];cell.invalid=!valid,cell.invalidMessage=message}return changed}),[columns]),startEditing=Object(react.useCallback)((function(location,defaultValue){var newData=clone(data);newData[location.row][location.column].editing=!0;var value=null!=defaultValue?defaultValue:newData[location.row][location.column].value;setEditCell({location:location,value:value}),setData(newData)}),[data]),endEditing=Object(react.useCallback)((function(cells){return editCell&&(cells[editCell.location.row][editCell.location.column].editing=!1,setEditCell(void 0)),cells}),[editCell]),cancelEditing=Object(react.useCallback)((function(){var newData=clone(data);newData=endEditing(newData),setData(newData)}),[data,endEditing]),commitEditing=Object(react.useCallback)((function(cells){var location=editCell.location,value=editCell.value;setCellValue(value,location,cells);return endEditing(cells)}),[editCell,endEditing,setCellValue]),makeNewRow=Object(react.useCallback)((function(row,cells){return columns.map((function(column,index){var value="";column.defaultValue&&(value="string"==typeof column.defaultValue?column.defaultValue:column.defaultValue(row));var _column$validator2=_slicedToArray(column.validator(value,{row:row,column:index},cells),2),valid=_column$validator2[0],message=_column$validator2[1];return{entityName:column.name,rowKey:getRowKey(void 0,row),value:value,invalid:!valid,invalidMessage:message}}))}),[columns,getRowKey]),pasteData=Object(react.useCallback)((function(rawData){if(currentCell&&rawData){for(var pasteItems=rawData.split("\n").map((function(value){return value.split("\t")})),newData=clone(data),changed=!0,i=0;i<pasteItems.length;i++){var row=currentCell.row+i;if(row>=newData.length){var newRow=makeNewRow(row,newData);newData.push(newRow)}for(var j=0;j<pasteItems[i].length;j++){var column=currentCell.column+j;if(column>=newData[row].length)break;var value=pasteItems[i][j];changed=changed&&setCellValue(value,{row:row,column:column},newData)}}setData(newData)}}),[currentCell,data,makeNewRow,setCellValue]),handlePaste=Object(react.useCallback)((function(event){if(focus&&!Boolean(editCell)&&currentCell){var rawData=event.clipboardData.getData("text");pasteData(rawData)}}),[currentCell,editCell,focus,pasteData]);Object(react.useEffect)((function(){return document.addEventListener("mousedown",handleMouseDownDocument),document.addEventListener("mouseup",handleMouseUpDocument),document.addEventListener("copy",handleCopy),document.addEventListener("paste",handlePaste),function(){document.removeEventListener("mousedown",handleMouseDownDocument),document.removeEventListener("mouseup",handleMouseUpDocument),document.removeEventListener("copy",handleCopy),document.removeEventListener("paste",handlePaste)}}),[handleCopy,handleMouseDownDocument,handleMouseUpDocument,handlePaste]);var navigateCursor=Object(react.useCallback)((function(row,column,cells){if(currentCell){var newCurrent={row:currentCell.row+row,column:currentCell.column+column};if(newCurrent.row<0||newCurrent.column<0||newCurrent.column>=columns.length||newCurrent.row>=data.length)return cells;clearSelection(cells,selection),cells[currentCell.row][currentCell.column].current=!1;var _cell=cells[newCurrent.row][newCurrent.column];_cell.current=!0,_cell.selected=!0;var newSelection=[newCurrent],newPage=Math.ceil((newCurrent.row+1)/rowsPerPage)-1;return currentPage!==newPage&&setPage(newPage),setSelection(newSelection),setCurrentCell(newCurrent),cells}}),[columns.length,currentCell,currentPage,data,rowsPerPage,selection]),handleArrowKeyDown=Object(react.useCallback)((function(event,hotkeysEvent){if(focus&&!editCell){var key=hotkeysEvent.key,cells=clone(data);switch(key){case"left":cells=navigateCursor(0,-1,cells);break;case"right":cells=navigateCursor(0,1,cells);break;case"up":cells=navigateCursor(-1,0,cells);break;case"down":cells=navigateCursor(1,0,cells)}setData(cells),event.preventDefault()}}),[data,editCell,focus,navigateCursor]),keyDownTabEnter=Object(react.useCallback)((function(key){var cells=clone(data);switch(editCell&&(cells=commitEditing(cells)),key){case"shift+tab":cells=navigateCursor(0,-1,cells);break;case"tab":cells=navigateCursor(0,1,cells);break;case"shift+enter":cells=navigateCursor(-1,0,cells);break;case"enter":cells=navigateCursor(1,0,cells)}setData(cells)}),[commitEditing,data,editCell,navigateCursor]),handleTabKeyDown=Object(react.useCallback)((function(event,hotkeysEvent){if(focus){var key=hotkeysEvent.key;keyDownTabEnter(key),event.preventDefault()}}),[focus,keyDownTabEnter]),handleF2KeyDown=Object(react.useCallback)((function(event){focus&&(editCell||currentCell&&(startEditing(currentCell),event.preventDefault()))}),[currentCell,editCell,focus,startEditing]),handleAnyKeyDown=Object(react.useCallback)((function(event,hotkeysEvent){if(focus&&!editCell&&currentCell){var key=event.key,defaultPrevent=!1;["delete","backspace","clear"].includes(key.toLowerCase())&&(startEditing(currentCell,""),defaultPrevent=!0),1===key.length&&(startEditing(currentCell,key),defaultPrevent=!0),defaultPrevent&&event.preventDefault()}}),[currentCell,editCell,focus,startEditing]),hotkeySettings=Object(react.useMemo)((function(){return[{keys:"left,right,up,down",handler:handleArrowKeyDown},{keys:"shift+tab,tab,shift+enter,enter",handler:handleTabKeyDown},{keys:"f2",handler:handleF2KeyDown},{keys:"*",handler:handleAnyKeyDown}]}),[handleAnyKeyDown,handleArrowKeyDown,handleF2KeyDown,handleTabKeyDown]);Object(react.useEffect)((function(){return hotkeySettings.forEach((function(_ref2){var keys=_ref2.keys,handler=_ref2.handler;Object(hotkeys_esm.a)(keys,handler)})),function(){hotkeySettings.forEach((function(_ref3){var keys=_ref3.keys;hotkeys_esm.a.unbind(keys)}))}}),[hotkeySettings]);var filteredData=Object(react.useMemo)((function(){return data.filter((function(row){return!filter||columns.every((function(column){var filterText=filter["".concat(column.name)];if(filterText){var _cell2=row.find((function(e){return e.entityName===column.name}));if(_cell2)return 0===_cell2.value.indexOf(filterText)}return!0}))}))}),[columns,data,filter]),pageItems=Object(react.useMemo)((function(){return filteredData.slice(currentPage*perPage,currentPage*perPage+perPage)}),[currentPage,filteredData,perPage]),emptyRows=Object(react.useMemo)((function(){return perPage-Math.min(perPage,data.length-currentPage*perPage)}),[data.length,currentPage,perPage]),last=Object(react.useMemo)((function(){return Math.ceil(data.length/perPage)-1}),[data.length,perPage]),clearSelectionAndCurrentCell=Object(react.useCallback)((function(){var newData=clone(data);clearSelection(newData,selection),currentCell&&(newData[currentCell.row][currentCell.column].current=!1),setData(newData),setCurrentCell(void 0),setSelection([])}),[currentCell,data,selection]),onChangeFilter=Object(react.useCallback)((function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFilter((function(state){return state?Object.assign({},state,_defineProperty({},name,value)):_defineProperty({},name,value)})),setPage(0),clearSelectionAndCurrentCell()}),[clearSelectionAndCurrentCell]),getSortButtonClickEventHandler=Object(react.useCallback)((function(name){return function(){var _sort$find,order=null===(_sort$find=sort.find((function(e){return e.name==="".concat(name)})))||void 0===_sort$find?void 0:_sort$find.order,newSort=sort.filter((function(e){return e.name!=="".concat(name)}));newSort.unshift({name:"".concat(name),order:"desc"===order?"asc":"desc"});var newData=clone(data);newData.sort((function(a,b){var _step,_loop=function _loop(_name,_order){var index=columns.findIndex((function(c){return c.name===_name}));if(a[index].value>b[index].value){if("asc"===_order)return{v:1};if("desc"===_order)return{v:-1}}else if(a[index].value<b[index].value){if("asc"===_order)return{v:-1};if("desc"===_order)return{v:1}}},_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(newSort);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _ref5=_step.value,_ret=_loop(_ref5.name,_ref5.order);if("object"===_typeof(_ret))return _ret.v}}catch(err){_iterator.e(err)}finally{_iterator.f()}return 0})),setSort(newSort),clearSelection(newData,selection),setData(newData)}}),[columns,data,selection,sort]),onCellClick=Object(react.useCallback)((function(event,rowIndex,colIndex){var row=rowIndex+currentPage*perPage,location={row:row,column:colIndex};if(!currentCell||0!==compareLocation(currentCell,location)){var newData=clone(data);editCell&&commitEditing(newData),clearSelection(newData,selection);var newSelection=[];if(currentCell&&event.shiftKey){var selections=selectRange(newData,currentCell,location);newSelection.push.apply(newSelection,_toConsumableArray(selections))}else newSelection.push(location),newData[row][colIndex].current=!0,newData[row][colIndex].selected=!0,currentCell&&(newData[currentCell.row][currentCell.column].current=!1),setCurrentCell(location);setData(newData),setSelection(newSelection)}}),[commitEditing,currentCell,currentPage,data,editCell,perPage,selection]),onCellDoubleClick=Object(react.useCallback)((function(_,rowIndex,colIndex){startEditing({row:rowIndex+currentPage*perPage,column:colIndex})}),[currentPage,perPage,startEditing]),onCellMouseOver=Object(react.useCallback)((function(location){var newData=clone(data);clearSelection(newData,selection);var selections=selectRange(newData,currentCell,location);setSelection(selections),setData(newData)}),[currentCell,data,selection]),onRowClick=Object(react.useCallback)((function(event,rowIndex){var row=rowIndex+currentPage*perPage,newData=clone(data);editCell&&commitEditing(newData),clearSelection(newData,selection);var newSelection=[];if(currentCell&&event.shiftKey){var rangeStart={row:currentCell.row,column:0},rangeEnd={row:row,column:newData[row].length-1},selections=selectRange(newData,rangeStart,rangeEnd);newSelection.push.apply(newSelection,_toConsumableArray(selections))}else{var _rangeStart={row:row,column:0},_rangeEnd={row:row,column:newData[row].length-1},_selections=selectRange(newData,_rangeStart,_rangeEnd);newSelection.push.apply(newSelection,_toConsumableArray(_selections)),currentCell&&(newData[currentCell.row][currentCell.column].current=!1),newData[_rangeStart.row][_rangeStart.column].current=!0,setCurrentCell(_rangeStart)}setData(newData),setSelection(newSelection)}),[commitEditing,currentCell,currentPage,data,editCell,perPage,selection]),onRowMouseOver=Object(react.useCallback)((function(location){var newData=clone(data);clearSelection(newData,selection);var selections=selectRange(newData,currentCell,location);setSelection(selections),setData(newData)}),[currentCell,data,selection]),handleEditorKeyDown=Object(react.useCallback)((function(event){var keys=[],action=void 0;switch(event.shiftKey&&keys.push("shift"),event.key){case"Tab":keys.push("tab"),action="commit";break;case"Enter":keys.push("enter"),action="commit";break;case"Escape":action="cancel"}action&&("commit"===action&&keyDownTabEnter(keys.join("+")),"cancel"===action&&cancelEditing(),event.preventDefault())}),[cancelEditing,keyDownTabEnter]),getEditorProps=Object(react.useCallback)((function(){var _editCell$value;return{value:null!==(_editCell$value=null==editCell?void 0:editCell.value)&&void 0!==_editCell$value?_editCell$value:"",onChange:function onChange(event){var value=event.target.value;setEditCell(Object.assign({},editCell,{value:value}))},onKeyDown:handleEditorKeyDown}}),[editCell,handleEditorKeyDown]),onChangePage=Object(react.useCallback)((function(_,newPage){setPage(newPage),clearSelectionAndCurrentCell()}),[clearSelectionAndCurrentCell]),onChangeRowsPerPage=Object(react.useCallback)((function(event){var value=event.target.value,v=parseInt(value,10);Number.isNaN(v)||(setPage(0),setRowsPerPage(v),clearSelectionAndCurrentCell())}),[clearSelectionAndCurrentCell]),insertRow=Object(react.useCallback)((function(rowIndex){var _ref6,insertRowNumber=null!==(_ref6=rowIndex+1)&&void 0!==_ref6?_ref6:data.length,newData=clone(data),newRow=makeNewRow(insertRowNumber,newData);clearSelection(newData,selection),currentCell&&(newData[currentCell.row][currentCell.column].current=!1),"number"==typeof rowIndex?newData.splice(insertRowNumber,0,newRow):newData.push(newRow);var location={row:insertRowNumber,column:0};newData[location.row][location.column].current=!0,newData[location.row][location.column].selected=!0,setCurrentCell(location),setSelection([location]),setData(newData),setFocus(!0)}),[currentCell,data,makeNewRow,selection]),onInsertRow=Object(react.useCallback)((function(){insertRow(null==currentCell?void 0:currentCell.row)}),[null==currentCell?void 0:currentCell.row,insertRow]),deleteRows=Object(react.useCallback)((function(){if(0!==selection.length){var rows=selection.map((function(s){return s.row})),min=Math.min.apply(Math,_toConsumableArray(rows)),max=Math.max.apply(Math,_toConsumableArray(rows)),message="".concat(max-min+1,"件 のデータを削除します。よろしいですか？");if(window.confirm(message)){var newData=clone(data);clearSelection(newData,selection),currentCell&&(newData[currentCell.row][currentCell.column].current=!1),newData.splice(min,max-min+1),setCurrentCell(void 0),setSelection([]),setData(newData),setFocus(!1)}}}),[currentCell,data,selection]),onDeleteRows=Object(react.useCallback)((function(){deleteRows()}),[deleteRows]);return{emptyRows:emptyRows,page:currentPage,pageItems:pageItems,total:filteredData.length,lastPage:last,hasPrev:0!==currentPage,hasNext:currentPage!==last,rowsPerPage:perPage,rowsPerPageOptions:rowsPerPageOptions,tbodyRef:tbodyRef,onChangePage:onChangePage,onChangeRowsPerPage:onChangeRowsPerPage,onDeleteRows:onDeleteRows,onInsertRow:onInsertRow,getFilterProps:function getFilterProps(name){var _filter$;return{name:"".concat(name),value:filter&&null!==(_filter$=filter["".concat(name)])&&void 0!==_filter$?_filter$:"",onChange:onChangeFilter}},getSortProps:function getSortProps(name){var _sort$find2;return{order:null===(_sort$find2=sort.find((function(e){return e.name==="".concat(name)})))||void 0===_sort$find2?void 0:_sort$find2.order,onClick:getSortButtonClickEventHandler(name)}},getCellProps:function getCellProps(cell,rowIndex,colIndex){return{onDoubleClick:function onDoubleClick(event){onCellDoubleClick(event,rowIndex,colIndex)},onMouseDown:function onMouseDown(event){if(event.button===MouseButton.Primary){onCellClick(event,rowIndex,colIndex),setDragging(!0)}},onMouseOver:function onMouseOver(){if(dragging&&!Boolean(editCell)){var location={row:rowIndex+currentPage*perPage,column:colIndex};onCellMouseOver(location)}},onMouseUp:function onMouseUp(){setDragging(!1)}}},getRowHeaderCellProps:function getRowHeaderCellProps(rowIndex){return{onMouseDown:function onMouseDown(event){onRowClick(event,rowIndex),setDraggingRow(!0)},onMouseOver:function onMouseOver(event){if(draggingRow){var row=rowIndex+currentPage*perPage,location={row:row,column:data[row].length-1};onRowMouseOver(location)}},onMouseUp:function onMouseUp(){setDraggingRow(!1)}}},getEditorProps:getEditorProps}},jsx_runtime=__webpack_require__(22);function SortButton_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var useStyles=Object(makeStyles.a)({unsorted:{color:"#999"},active:{color:"#000"}}),SortButton_SortButton=function SortButton(_ref){var _classnames,order=_ref.order,onClick=_ref.onClick,classes=useStyles();return Object(jsx_runtime.jsx)("button",{className:classnames_default()((_classnames={},SortButton_defineProperty(_classnames,classes.unsorted,void 0===order),SortButton_defineProperty(_classnames,classes.active,void 0!==order),_classnames)),onClick:onClick,children:null!=order?order:"asc"})};SortButton_SortButton.displayName="SortButton";var components_SortButton=SortButton_SortButton;try{SortButton_SortButton.displayName="SortButton",SortButton_SortButton.__docgenInfo={description:"",displayName:"SortButton",props:{order:{defaultValue:null,description:"",name:"order",required:!0,type:{name:"enum",value:[{value:'"asc"'},{value:'"desc"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"VoidFunction"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SortButton.tsx#SortButton"]={docgenInfo:SortButton_SortButton.__docgenInfo,name:"SortButton",path:"src/components/SortButton.tsx#SortButton"})}catch(__react_docgen_typescript_loader_error){}function Table_toConsumableArray(arr){return function Table_arrayWithoutHoles(arr){if(Array.isArray(arr))return Table_arrayLikeToArray(arr)}(arr)||function Table_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function Table_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Table_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Table_arrayLikeToArray(o,minLen)}(arr)||function Table_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Table_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Table_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Table_useStyles=Object(makeStyles.a)({root:{},header:{},container:{},table:{width:"max-content",boxSizing:"border-box",borderCollapse:"collapse",borderTopWidth:1,borderTopStyle:"solid",borderTopColor:"#ccc",borderLeftWidth:1,borderLeftStyle:"solid",borderLeftColor:"#ccc"},headerRow:{},headerCell:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#ccc",borderRightWidth:1,borderRightStyle:"solid",borderRightColor:"#ccc",backgroundColor:"rgb(247,248,249)",padding:"0.3rem"},row:{minHeight:"1.5rem"},rowHeaderCell:{width:"1.4rem"},cell:{position:"relative",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#ccc",borderRightWidth:1,borderRightStyle:"solid",borderRightColor:"#ccc",padding:"0.3rem",userSelect:"none"},current:{boxShadow:"0px 0px 1px 2px #0096ff inset"},selected:{backgroundColor:"#E2EDFB"},invalid:{position:"absolute",top:0,right:0,borderTop:"0.6rem solid #ff0000",borderLeft:"0.6rem solid transparent"},edit:{padding:0},editor:{marginLeft:2,fontSize:"1rem",height:"100%",width:"calc(100% - 4px)",boxSizing:"border-box",border:"none",backgroundColor:"inherit",boxShadow:"none",outline:0,"&:focus":{border:"none",boxShadow:"none",outline:0}},footer:{}});function Table(_ref){var data=_ref.data,columns=_ref.columns,getRowKey=_ref.getRowKey,classes=Table_useStyles(),_usePagination=pagination_usePagination({items:data,columns:columns,getRowKey:getRowKey,rowsPerPage:10,rowsPerPageOptions:[10,30,100]}),page=_usePagination.page,pageItems=_usePagination.pageItems,total=_usePagination.total,emptyRows=_usePagination.emptyRows,lastPage=_usePagination.lastPage,hasPrev=_usePagination.hasPrev,hasNext=_usePagination.hasNext,rowsPerPage=_usePagination.rowsPerPage,rowsPerPageOptions=_usePagination.rowsPerPageOptions,tbodyRef=_usePagination.tbodyRef,onChangePage=_usePagination.onChangePage,onChangeRowsPerPage=_usePagination.onChangeRowsPerPage,onDeleteRows=_usePagination.onDeleteRows,onInsertRow=_usePagination.onInsertRow,getFilterProps=_usePagination.getFilterProps,getSortProps=_usePagination.getSortProps,getCellProps=_usePagination.getCellProps,getRowHeaderCellProps=_usePagination.getRowHeaderCellProps,getEditorProps=_usePagination.getEditorProps;return Object(jsx_runtime.jsxs)("div",{className:classes.root,children:[Object(jsx_runtime.jsxs)("div",{className:classes.header,children:[Object(jsx_runtime.jsx)("button",{onClick:onInsertRow,children:"Add Row"}),Object(jsx_runtime.jsx)("button",{onClick:onDeleteRows,children:"Delete Rows"})]}),Object(jsx_runtime.jsx)("div",{className:classes.container,children:Object(jsx_runtime.jsxs)("table",{className:classes.table,children:[Object(jsx_runtime.jsx)("thead",{children:Object(jsx_runtime.jsxs)("tr",{className:classes.headerRow,children:[Object(jsx_runtime.jsx)("th",{className:classnames_default()(classes.headerCell,classes.rowHeaderCell)}),columns.map((function(column,index){var key="awesome-table-header-".concat(column.name,"-").concat(index);return Object(jsx_runtime.jsxs)("th",{className:classes.headerCell,children:[column.name,Object(jsx_runtime.jsx)(components_SortButton,Object.assign({},getSortProps(column.name))),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("input",Object.assign({type:"text"},getFilterProps(column.name)))]},key)}))]})}),Object(jsx_runtime.jsxs)("tbody",{ref:tbodyRef,children:[pageItems.map((function(item,rowIndex){var rowKey=item.length>0?item[0].rowKey:"empty-row-".concat(rowIndex);return Object(jsx_runtime.jsxs)("tr",{className:classes.row,children:[Object(jsx_runtime.jsx)("th",Object.assign({className:classnames_default()(classes.headerCell,classes.rowHeaderCell)},getRowHeaderCellProps(rowIndex))),item.map((function(cell,colIndex){var _classnames,key="awesome-table-body-".concat(cell.entityName,"-").concat(rowIndex,"-").concat(colIndex);return Object(jsx_runtime.jsxs)("td",Object.assign({className:classnames_default()(classes.cell,(_classnames={},Table_defineProperty(_classnames,classes.current,cell.current),Table_defineProperty(_classnames,classes.selected,cell.selected&&!cell.editing),Table_defineProperty(_classnames,classes.edit,cell.editing),_classnames))},getCellProps(cell,rowIndex,colIndex),{children:[cell.editing?Object(jsx_runtime.jsx)("input",Object.assign({type:"text",className:classes.editor,autoFocus:!0},getEditorProps())):Object(jsx_runtime.jsx)("span",{children:cell.value}),cell.invalid&&Object(jsx_runtime.jsx)("div",{className:classes.invalid,title:cell.invalidMessage})]}),key)}))]},rowKey)})),emptyRows>0&&Table_toConsumableArray(Array(emptyRows)).map((function(_,index){return Object(jsx_runtime.jsx)("tr",{className:classes.row,children:Object(jsx_runtime.jsx)("td",{className:classes.cell,colSpan:columns.length+1,children:" "})},"awesome-table-body-empty-rows-".concat(index))}))]})]})}),Object(jsx_runtime.jsxs)("div",{className:classes.footer,children:[Object(jsx_runtime.jsx)("button",{disabled:!hasPrev,onClick:function handleClickPageFirst(event){onChangePage(event,0)},children:"first"}),Object(jsx_runtime.jsx)("button",{disabled:!hasPrev,onClick:function handleClickPagePrev(event){onChangePage(event,page-1)},children:"prev"}),Object(jsx_runtime.jsx)("button",{disabled:!hasNext,onClick:function handleClickPageNext(event){onChangePage(event,page+1)},children:"next"}),Object(jsx_runtime.jsx)("button",{disabled:!hasNext,onClick:function handleClickPageLast(event){onChangePage(event,lastPage)},children:"last"}),Object(jsx_runtime.jsx)("select",{value:rowsPerPage,onChange:onChangeRowsPerPage,children:rowsPerPageOptions.map((function(value){return Object(jsx_runtime.jsx)("option",{value:value,children:value},"rows-per-page-options-".concat(value))}))}),Object(jsx_runtime.jsxs)("span",{children:[1+page*rowsPerPage," - ",Math.min(page*rowsPerPage+rowsPerPage,total)," /"," ",total]}),Object(jsx_runtime.jsxs)("span",{children:["page: ",page+1]})]})]})}Table.displayName="Table";var components_Table=Table;try{Table.displayName="Table",Table.__docgenInfo={description:"",displayName:"Table",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"T[]"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnDefinition<T>[]"}},getRowKey:{defaultValue:null,description:"",name:"getRowKey",required:!0,type:{name:"(item: T, rowIndex: number) => string"}},validator:{defaultValue:null,description:"",name:"validator",required:!0,type:{name:"(item: unknown) => item is T"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(data: T[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table.tsx#Table"]={docgenInfo:Table.__docgenInfo,name:"Table",path:"src/components/Table.tsx#Table"})}catch(__react_docgen_typescript_loader_error){}function Table_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"components/Table",component:components_Table};var random=function random(){return Math.floor(1e3*Math.random())/100},Table_stories_data=function Table_stories_toConsumableArray(arr){return function Table_stories_arrayWithoutHoles(arr){if(Array.isArray(arr))return Table_stories_arrayLikeToArray(arr)}(arr)||function Table_stories_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function Table_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Table_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Table_stories_arrayLikeToArray(o,minLen)}(arr)||function Table_stories_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(999)).map((function(_,index){return{name:"point_".concat(index+1),x:random(),y:random()}})),numericValidator=function numericValidator(value){var v=parseFloat(value);return isNaN(v)||v.toString()!==value?[!1,"数値で入力してください"]:[!0]},Table_stories_columns=[{name:"name",getValue:function getValue(item){return item.name},defaultValue:function defaultValue(row){return"point_".concat(row+1)},validator:function requiredValidator(value){return 0===value.length?[!1,"必須項目です"]:[!0]}},{name:"x",getValue:function getValue(item){return"".concat(item.x)},validator:numericValidator},{name:"y",getValue:function getValue(item){return"".concat(item.y)},validator:numericValidator}],Table_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(components_Table,Object.assign({},args))};Table_stories_Template.displayName="Template";var Sample=Table_stories_Template.bind({});Sample.args={data:Table_stories_data,columns:Table_stories_columns,getRowKey:function getRowKey(item,rowIndex){return item?item.name:"new_point_".concat(rowIndex)}},Sample.parameters=Object.assign({storySource:{source:"(args) => <Table {...args} />"}},Sample.parameters)},1095:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Sample",(function(){return Sample}));__webpack_require__(175),__webpack_require__(3),__webpack_require__(0);var jsx_runtime=__webpack_require__(22),Text_Text=function Text(_ref){var value=_ref.value;return Object(jsx_runtime.jsx)("p",{children:value})};Text_Text.displayName="Text";var components_Text=Text_Text;try{Text_Text.displayName="Text",Text_Text.__docgenInfo={description:"",displayName:"Text",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Text.tsx#Text"]={docgenInfo:Text_Text.__docgenInfo,name:"Text",path:"src/components/Text.tsx#Text"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"components/Text",component:components_Text};var Text_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(components_Text,Object.assign({},args))};Text_stories_Template.displayName="Template";var Sample=Text_stories_Template.bind({});Sample.args={value:"My first storybook."},Sample.parameters=Object.assign({storySource:{source:"(args) => <Text {...args} />"}},Sample.parameters)},484:function(module,exports,__webpack_require__){__webpack_require__(485),__webpack_require__(648),__webpack_require__(649),__webpack_require__(806),__webpack_require__(1022),__webpack_require__(1055),__webpack_require__(1060),__webpack_require__(1072),__webpack_require__(1074),__webpack_require__(1079),__webpack_require__(1081),module.exports=__webpack_require__(1085)},558:function(module,exports){},649:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(361)}},[[484,1,2]]]);
//# sourceMappingURL=main.584b287c237ea28855e2.bundle.js.map